{"version":3,"sources":["icons/arrow_down.svg","icons/user.svg","icons/google_logo.png","reportWebVitals.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowDown","_ref","svgRef","title","titleId","props","width","height","viewBox","id","ref","transform","style","fillOpacity","stroke","strokeWidth","strokeMiterlimit","strokeDasharray","strokeOpacity","d","ForwardRef","SvgUser","cx","cy","rx","ry","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","monthNames","arrayReverse","array","newArray","slice","reverse","pickColor","colors","shows","extendContext","ctx","size","translate","drawLine","x","y","endX","endY","beginPath","moveTo","lineTo","drawArc","radius","startAngle","endAngle","arc","drawPieSlice","color","fillStyle","closePath","fill","drawPieSliceImage","image","save","clip","rotate","drawImage","restore","drawTextRotated","text","angle","font","textWidth","measureText","fillText","drawWheel","wheelAngle","clearRect","half","toRad","t","Math","PI","cos","sin","name","Wheel","removeShow","wheelName","updateShowProp","users","addHistory","canvasRef","useRef","useState","setSize","arrowColor","setArrowColor","showWinner","setShowWinner","winner","setWinner","setRotateLocal","useDocumentData","doc","wheel","rotateServer","useEffect","r1","r2","endDate","offset","rng","newRotate","date","toDate","setRotate","useCallback","update","current","spinning","getContext","off","targetIndex","floor","handleResize","e","parentWidth","document","getElementById","getBoundingClientRect","window","addEventListener","removeEventListener","interval","setInterval","Date","winnerIndex","winnerColor","time","pow","clearInterval","className","onClick","prev","random","ShowInpsectorModal","isOpen","onRequestClose","show","prop","value","uuid","beginWatching","AddNewButton","user","addShow","add","setAdd","addNew","uuidv4","owner","type","placeholder","onChange","onKeyDown","onBlur","UserShows","renderShows","map","filter","Shows","setUsers","showUsers","setShowUsers","inspectingShow","setInspectingShow","editUsers","setEditUsers","updateInspectingShowProp","findIndex","s","borderLeftColor","ariaHideApp","defaultValue","u","History","history","updateHistoryProp","getDate","getMonth","state","backgroundColor","banner","alt","src","watchingUrl","href","rel","match","toLocaleDateString","getFullYear","WheelPage","showsQuery","setWheelName","historyQuery","useCollectionData","h","collection","delete","console","log","catch","err","error","set","role","SignIn","provider","GoogleAuthProvider","signInWithRedirect","GoogleLogo","SignOut","currentUser","signOut","PageRenderer","localStorage","getItem","useAuthState","orderBy","setItem","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2e7837a3.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"33.711567mm\",\n    height: \"63.855679mm\",\n    viewBox: \"0 0 33.711567 63.855679\",\n    id: \"arrow-down\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-81.966599,-23.855913)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fillOpacity: 1,\n      stroke: \"#262628\",\n      strokeWidth: 2.11666656,\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    },\n    d: \"m 91.911077,24.38508 h 13.021863 c 0.57584,0 1.03943,0.463588 1.03943,1.039435 v 45.361473 c 0,0 9.57933,-0.15582 9.1666,0.245732 L 98.756091,86.970855 82.034384,71.039826 c -0.416923,-0.397208 8.837259,-0.253842 8.837259,-0.253842 V 25.424515 c 0,-0.575847 0.463588,-1.039435 1.039434,-1.039435 z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrow_down.094f404e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUser(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"5.8586311mm\",\n    height: \"7.3587241mm\",\n    viewBox: \"0 0 5.8586311 7.3587241\",\n    id: \"svg8\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"layer1\",\n    transform: \"translate(4.4979166,7.3180807)\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    style: {\n      fillOpacity: 1,\n      stroke: \"none\",\n      strokeWidth: 2.37620234,\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    },\n    id: \"path4538\",\n    cx: -1.5213542,\n    cy: -5.4400115,\n    rx: 1.9135045,\n    ry: 1.8780692\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fillOpacity: 1,\n      stroke: \"none\",\n      strokeWidth: 3.08441067,\n      strokeMiterlimit: 4,\n      strokeDasharray: \"none\",\n      strokeOpacity: 1\n    },\n    d: \"m 1.3607146,-1.1050964 c 0,1.14160408 -1.31149927,1.14574009 -2.9293156,1.14574009 -1.6178163,0 -2.9293156,-0.02775953 -2.9293156,-1.16936359 -1e-7,-1.1416042 1.3114992,-2.7285156 2.9293156,-2.7285156 1.61781639,0 2.9293157,1.6105349 2.9293156,2.7521391 z\",\n    id: \"path4538-3\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUser);\nexport default __webpack_public_path__ + \"static/media/user.25c19869.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/google_logo.4d15f668.png\";","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactModal from 'react-modal';\r\nimport { ReactComponent as ArrowDown } from './icons/arrow_down.svg';\r\nimport { ReactComponent as UserIcon  } from './icons/user.svg';\r\nimport GoogleLogo from './icons/google_logo.png';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useCollectionData, useDocumentData } from 'react-firebase-hooks/firestore';\r\nimport './index.scss';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nfirebase.initializeApp({\r\n    apiKey: 'AIzaSyCKEr3NLxFL9SXJuONJONhQAZct6Yqt2AY',\r\n    authDomain: 'anime-roulette.firebaseapp.com',\r\n    projectId: 'anime-roulette',\r\n    storageBucket: 'anime-roulette.appspot.com',\r\n    messagingSenderId: '5143254771',\r\n    appId: '1:5143254771:web:bc9f978bb85bff4cdb8986'\r\n});\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\n//window.firestore = firestore;\r\n\r\nconst monthNames = [\r\n    'Jan',\r\n    'Feb',\r\n    'Mar',\r\n    'Apr',\r\n    'May',\r\n    'Jun',\r\n    'Jul',\r\n    'Aug',\r\n    'Sep',\r\n    'Oct',\r\n    'Nov',\r\n    'Dec',\r\n];\r\n\r\nfunction tryParseJSON(source, test=null) {\r\n    let json = null;\r\n    try {\r\n        json = JSON.parse(source);\r\n        if (test && !test(json)) {\r\n            return null;\r\n        }\r\n    } catch(err) {\r\n        return null;\r\n    }\r\n    return json;\r\n}\r\n\r\nfunction parseHistory(historySauce) {\r\n    const json = tryParseJSON(historySauce, Array.isArray);\r\n    return json ? json.map(h => ({ ...h, date: new Date(h.date) })) : [];\r\n}\r\n\r\nfunction parseShows(showsSauce) {\r\n    return tryParseJSON(showsSauce, Array.isArray) || [];\r\n}\r\n\r\nfunction arrayReverse(array) {\r\n    const newArray = array.slice();\r\n    newArray.reverse();\r\n    return newArray;\r\n}\r\n\r\nfunction pickColor(i, colors, shows) {\r\n    return colors[i % colors.length + (shows.length % colors.length < 2 && i >= colors.length) * 2];\r\n}\r\n\r\nconst extendContext = (ctx, size) => ({\r\n    ...ctx,\r\n    translate: ctx.translate,\r\n    drawLine(x, y, endX, endY) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(endX, endY);\r\n        ctx.stroke();\r\n    },\r\n    drawArc(x, y, radius, startAngle, endAngle) {\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, radius, startAngle, endAngle);\r\n        ctx.stroke();\r\n    },\r\n    drawPieSlice(x, y, radius, startAngle, endAngle, color) {\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n        ctx.arc(x, y, radius, startAngle, endAngle);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    },\r\n    drawPieSliceImage(x, y, radius, startAngle, endAngle, image) {\r\n        ctx.save();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n        ctx.arc(x, y, radius, startAngle, endAngle);\r\n        ctx.closePath();\r\n\r\n        ctx.clip();\r\n        ctx.translate(x, y);\r\n        ctx.rotate((startAngle + endAngle) / 2);\r\n        ctx.drawImage(image, 0, -image.height / 2);\r\n        ctx.restore();\r\n    },\r\n    drawTextRotated(x, y, text, angle, color) {\r\n        ctx.save();\r\n        ctx.fillStyle = '#fff';\r\n        ctx.font = \"1.6rem -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif\";\r\n        ctx.translate(x, y);\r\n        ctx.rotate(angle);\r\n        const textWidth = ctx.measureText(text).width;\r\n        ctx.fillText(text, -textWidth / 2, 4);\r\n        ctx.restore();\r\n    },\r\n    drawWheel(shows, colors, wheelAngle = 0) {\r\n        ctx.clearRect(0, 0, size, size);\r\n        const half = size / 2;\r\n\r\n        for (let i = 0; i < shows.length; i++) {\r\n            const toRad = t => (t / shows.length) * 2 * Math.PI;\r\n            this.drawPieSlice(\r\n                half, half, half,\r\n                toRad(i) - .013 + wheelAngle,\r\n                toRad(i + 1)    + wheelAngle,\r\n                pickColor(i, colors, shows)\r\n            );\r\n            const angle = toRad(i + .5) + wheelAngle;\r\n            this.drawTextRotated(\r\n                half + Math.cos(angle) * half / 1.9,\r\n                half + Math.sin(angle) * half / 1.9,\r\n                shows[i].name,\r\n                angle\r\n            );\r\n        }\r\n    }\r\n});\r\n\r\nfunction compareRotates(r1, r2) {\r\n    if (r1 === r2) return true;\r\n    if (!r1 || !r2) return false;\r\n    return (\r\n        r1.endDate === r2.endDate &&\r\n        r1.offset  === r2.offset &&\r\n        r1.rng     === r2.rng\r\n    );\r\n}\r\n\r\nfunction Wheel({ shows, removeShow, wheelName, users, updateShowProp, colors, addHistory, ...props }) {\r\n    const canvasRef = useRef(null);\r\n    const [size, setSize] = useState(960);\r\n    const [arrowColor, setArrowColor] = useState('#262628');\r\n    const [showWinner, setShowWinner] = useState(false);\r\n    const [winner, setWinner] = useState(null);\r\n\r\n    //const [rotate.spinning, setRotatingLocal] = useState(false);\r\n    const [rotate, setRotateLocal] = useState(null);\r\n\r\n    const [wheel] = useDocumentData(firestore.doc(`wheels/${wheelName}`));\r\n    const rotateServer = wheel ? wheel.rotate || null : rotate;\r\n\r\n    useEffect(() => {\r\n        if (compareRotates(rotateServer, rotate) || !rotateServer) return;\r\n        const newRotate = { ...rotateServer, date: rotateServer.date.toDate() };\r\n        setRotateLocal(() => newRotate);\r\n    }, [\r\n        rotate,\r\n        rotateServer,\r\n        rotateServer?.rng,\r\n        rotateServer?.endDate,\r\n        rotateServer?.offset\r\n    ]);\r\n\r\n    const setRotate = useCallback(\r\n        newRotate => {\r\n            firestore.doc(`wheels/${wheelName}`).update({\r\n                rotate: typeof newRotate === 'function' ? newRotate(rotate) : newRotate\r\n            });\r\n            setRotateLocal(newRotate);\r\n        },\r\n        [rotate, wheelName]\r\n    );\r\n\r\n    //const setRotating = useCallback(\r\n    //    [rotate.spinning, wheelName]\r\n    //);\r\n\r\n    // Draw wheel\r\n    useEffect(() => {\r\n        if (!canvasRef || !canvasRef.current || (rotate && rotate.spinning) || !shows) return;\r\n\r\n        // Draw wheel\r\n        const ctx = extendContext(canvasRef.current.getContext('2d'), size);\r\n        ctx.drawWheel(shows, colors, rotate ? rotate.offset + rotate.rng * Math.PI * 2 : 0);\r\n\r\n        // Set Arrow color with default state\r\n        if (!rotate) {\r\n            const targetIndex = Math.floor(.75 * shows.length);\r\n            setArrowColor(() => pickColor(targetIndex, colors, shows));\r\n        } else {\r\n            const off = rotate.offset / (Math.PI * 2) + rotate.rng + .25;\r\n            const targetIndex = Math.floor((1 - (off % 1)) * shows.length);\r\n            setArrowColor(() => pickColor(targetIndex, colors, shows));\r\n        }\r\n\r\n    }, [canvasRef, size, rotate, rotate?.spinning, shows, colors]);\r\n\r\n    // Resize\r\n    useEffect(() => {\r\n        if (!canvasRef) return;\r\n\r\n        const handleResize = e => {\r\n            if (!canvasRef || !canvasRef.current) return;\r\n\r\n            const parentWidth = document.getElementById('wheel-width').getBoundingClientRect().width;\r\n            if (size !== parentWidth) {\r\n                setSize(() => parentWidth);\r\n            }\r\n        }\r\n\r\n        handleResize();\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, [canvasRef, size]);\r\n\r\n    // Rotation\r\n    useEffect(() => {\r\n        if (!canvasRef || !rotate || !shows) return;\r\n\r\n        const handleRotate = () => {\r\n            const date = new Date();\r\n\r\n            // Rotation end\r\n            if (date > rotate.endDate) {\r\n                const winnerIndex = Math.floor((1 - ((rotate.offset / (Math.PI * 2) + rotate.rng + .25) % 1)) * shows.length);\r\n                const winnerColor = pickColor(winnerIndex, colors, shows);\r\n\r\n                setWinner(() => ({\r\n                    ...shows[winnerIndex],\r\n                    date: new Date(),\r\n                    color: winnerColor\r\n                }));\r\n\r\n                setRotate(() => ({ ...rotate, spinning: false }));\r\n                setShowWinner(() => true);\r\n                setArrowColor(() => winnerColor);\r\n                return;\r\n            }\r\n\r\n            let easeInOutQuint = x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2;\r\n            let time = easeInOutQuint((date - rotate.date) / (rotate.endDate - rotate.date));\r\n\r\n            const targetIndex = Math.floor((1 - (((rotate.offset + time * (Math.PI * 2 * 13 + rotate.rng * Math.PI * 2)) / (Math.PI * 2) + .25) % 1)) * shows.length);\r\n            setArrowColor(() => pickColor(targetIndex, colors, shows));\r\n\r\n            const ctx = extendContext(canvasRef.current.getContext('2d'), size);\r\n\r\n            ctx.drawWheel(shows, colors, rotate.offset + time * (Math.PI * 2 * 13 + rotate.rng * Math.PI * 2));\r\n        };\r\n\r\n        if (rotate?.spinning) {\r\n            const interval = setInterval(handleRotate, 10);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [rotate, rotate?.spinning, setRotate, canvasRef, shows, colors, size]);\r\n\r\n    const updateInspectingShowProp = (show, prop, value) => {\r\n        if (show[prop] === value) return;\r\n        updateShowProp(show.uuid, prop, value);\r\n        setWinner(prev => ({ ...prev, [prop]: value }));\r\n    }\r\n\r\n    return (\r\n        <div {...props} id='wheel-width'>\r\n            <div className='wheel-box'>\r\n                <div className='arrow'>\r\n                    <ArrowDown style={{ fill: arrowColor }} />\r\n                </div>\r\n                <canvas\r\n                    id='wheel'\r\n                    className={!shows || shows.length === 0 ? 'empty' : 'populated'}\r\n                    onClick={() => setRotate(prev => {\r\n                        if (prev && rotate.spinning) return prev;\r\n\r\n                        const date = new Date();\r\n                        const rng = Math.random();\r\n\r\n                        return {\r\n                            date,\r\n                            offset: prev ? prev.offset + prev.rng * Math.PI * 2 : 0,\r\n                            rng,\r\n                            endDate: +date + 8000 + rng * 1000, // 8-9 seconds after start\r\n                            spinning: true\r\n                        };\r\n                    })}\r\n                    ref={canvasRef}\r\n                    width={size}\r\n                    height={size}\r\n                />\r\n            </div>\r\n            <ShowInpsectorModal\r\n                isOpen={showWinner}\r\n                onRequestClose={() => {\r\n                    setShowWinner(() => false);\r\n                    //setRotate(() => null);\r\n                    //setWinner(() => null);\r\n                }}\r\n                updateShowProp={updateInspectingShowProp}\r\n                show={rotate && winner}\r\n                beginWatching={rotate ? () => {\r\n                    addHistory(winner);\r\n                    removeShow(winner.uuid);\r\n                    setShowWinner(() => false);\r\n                    //setRotate(() => null);\r\n                    setWinner(() => null);\r\n                } : null}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AddNewButton({ user, addShow }) {\r\n    const [add, setAdd] = useState('');\r\n\r\n    const addNew = () => {\r\n        addShow({\r\n            name: add,\r\n            uuid: uuidv4(),\r\n            owner: user\r\n        });\r\n        setAdd(() => '');\r\n    };\r\n\r\n    return (\r\n        <input\r\n            type='text'\r\n            className='show add-new'\r\n            placeholder='Add Show +'\r\n            value={add}\r\n            onChange={e => setAdd(() => e.target.value)}\r\n            onKeyDown={e => e.key === 'Enter' && add && addNew()}\r\n            onBlur={e => add && addNew()}\r\n        />\r\n    );\r\n}\r\n\r\nfunction UserShows({ users, shows, renderShows, addShow }) {\r\n    return users.map((user, i) => (\r\n        <div className='user-shows' key={user.name}>\r\n            <h3 key={'h3 ' + user.name} className={i === 0 ? 'first-h3' : ''}>{user.name}</h3>\r\n            {shows && shows.filter(show => show.owner.name === user.name).map(renderShows)}\r\n            <AddNewButton key={'add new button ' + user.name} user={user} addShow={addShow} />\r\n        </div>\r\n    ));\r\n}\r\n\r\nfunction Shows({ users, setUsers, shows, removeShow, addHistory, updateShowProp, addShow, colors, ...props }) {\r\n    const [showUsers, setShowUsers] = useState(false);\r\n    const [inspectingShow, setInspectingShow] = useState(null);\r\n    const [editUsers, setEditUsers] = useState(false);\r\n\r\n    const updateInspectingShowProp = (show, prop, value) => {\r\n        if (show[prop] === value) return;\r\n        updateShowProp(show.uuid, prop, value);\r\n        setInspectingShow(prev => ({ ...prev, [prop]: value }));\r\n    }\r\n\r\n    const renderShows = show => {\r\n        const i = shows.findIndex(s => s === show);\r\n        return (\r\n            <div className='show' key={show.uuid}>\r\n                <input\r\n                    type='text'\r\n                    value={show.name}\r\n                    onChange={e => updateShowProp(show.uuid, 'name', e.target.value)}\r\n                    style={{ borderLeftColor: pickColor(i, colors, shows) }}\r\n                />\r\n                <button className='delete' onClick={e => removeShow(show.uuid)}>×</button>\r\n                <button className='clickable-faded edit' onClick={() => setInspectingShow(() => show)}>edit</button>\r\n                <ShowInpsectorModal\r\n                    isOpen={!!inspectingShow && inspectingShow.uuid === show.uuid}\r\n                    onRequestClose={() => setInspectingShow(null)}\r\n                    show={inspectingShow}\r\n                    updateShowProp={updateInspectingShowProp}\r\n                    beginWatching={inspectingShow ? () => {\r\n                        addHistory({ ...inspectingShow, date: new Date() });\r\n                        removeShow(inspectingShow.uuid);\r\n                        setInspectingShow(null);\r\n                    } : null}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div {...props}>\r\n            <div className='shows-list'>\r\n                <div className='top-bar'>\r\n                    <h2>Shows</h2>\r\n                    <button className='show-users-button' onClick={() => setShowUsers(prev => !prev)}><UserIcon  /></button>\r\n                    <button className='clickable-faded edit' onClick={() => setEditUsers(() => true)}>edit users</button>\r\n                </div>\r\n                {showUsers ?\r\n                    <UserShows shows={shows} users={users} renderShows={renderShows} addShow={addShow} /> :\r\n                    [shows && shows.map(renderShows), <AddNewButton key={'global add new button'} user={users[0]} addShow={addShow} />]}\r\n            </div>\r\n            <ReactModal\r\n                className='edit-users-modal modal-screen'\r\n                ariaHideApp={false}\r\n                isOpen={editUsers}\r\n                onRequestClose={() => setEditUsers(() => false)}\r\n            >\r\n                <h2>Manage Users</h2>\r\n                <div className='users-list'>\r\n                    {users.map(user => (\r\n                        <div key={user.uuid}>\r\n                            <input\r\n                                type='text'\r\n                                defaultValue={user.name}\r\n                                onChange={e => setUsers(prev => prev.map(\r\n                                    u => u.uuid === user.uuid ?\r\n                                    { ...user, name: e.target.value } :\r\n                                    { ...u }\r\n                                ))}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </ReactModal>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction History({ users, shows, history, updateHistoryProp, ...props }) {\r\n    const [inspectingShow, setInspectingShow] = useState(null);\r\n\r\n    const updateInspectingShowProp = (show, prop, value) => {\r\n        if (show[prop] === value) return;\r\n        updateHistoryProp(show.uuid, prop, value);\r\n        setInspectingShow(prev => ({ ...prev, [prop]: value }));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div {...props}>\r\n                <h2>History</h2>\r\n                <div className='list'>\r\n                    {arrayReverse(history).map(show => (\r\n                        <div key={show.uuid} className='show' onClick={() => setInspectingShow(show)}>\r\n                            <span className='title'>{show.name}</span>\r\n                            <span className='date'> - {show.date.getDate()} {monthNames[show.date.getMonth()]}.</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <ShowInpsectorModal\r\n                isOpen={!!inspectingShow}\r\n                onRequestClose={() => setInspectingShow(null)}\r\n                show={inspectingShow}\r\n                updateShowProp={updateInspectingShowProp}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ShowInpsectorModal({ show, updateShowProp, beginWatching = null, ...props }) {\r\n    return (\r\n        <ReactModal\r\n            className='show-inspector modal-screen'\r\n            ariaHideApp={false}\r\n            {...props}\r\n        >\r\n            {show && (<>\r\n                <h2 className='title'>\r\n                    {show.name}\r\n                    {beginWatching ? (\r\n                        <button className='begin-wating' onClick={beginWatching}>Start watching</button>\r\n                    ) : (\r\n                        <select\r\n                            className='state'\r\n                            defaultValue={show.state}\r\n                            onChange={e => updateShowProp(show, 'state', e.target.value)}\r\n                        >\r\n                            <option>Watching</option>\r\n                            <option>Completed</option>\r\n                            <option>Dropped</option>\r\n                        </select>\r\n                    )}\r\n\r\n                </h2>\r\n                <div className='middle' style={{ backgroundColor: show.color }}>\r\n                    {show.banner && <img className='banner' alt='banner' src={show.banner} />}\r\n                    <input\r\n                        className={'banner-url hover-input ' + (show.banner ? '' : 'visible')}\r\n                        type='text'\r\n                        placeholder='Insert banner url...'\r\n                        onKeyDown={e => e.key === 'Enter' && e.target.value && updateShowProp(show, 'banner', e.target.value)}\r\n                        onBlur={e => e.target.value && updateShowProp(show, 'banner', e.target.value)}\r\n                    />\r\n                </div>\r\n                {show.state === 'Watching' && (\r\n                    <div className='links'>\r\n                        {show.watchingUrl && <span>Watching at <a href={show.watchingUrl} rel=\"noreferrer\" target='_blank'>{(show.watchingUrl.match(/\\w+(\\.\\w+)+/) || [])[0]}</a></span>}\r\n                        <input\r\n                            className={'watching-url hover-input ' + (show.watchingUrl ? '' : 'visible')}\r\n                            type='text'\r\n                            placeholder={`${show.watchingUrl ? 'Replace' : 'Insert'} watching url...`}\r\n                            onKeyDown={e => e.key === 'Enter' && e.target.value && updateShowProp(show, 'watchingUrl', e.target.value)}\r\n                            onBlur={e => e.target.value && updateShowProp(show, 'watchingUrl', e.target.value)}\r\n                        />\r\n                    </div>\r\n                )}\r\n                <div className='bottom'>\r\n                    <div className='owner-field'>\r\n                        Suggested by <span className='user'>{show.owner.name}</span>\r\n                    </div>\r\n                    {show.date && (\r\n                        <div className='date'>\r\n                            {!beginWatching && 'Started watching at'}&nbsp;\r\n                            <span className='date-string'>\r\n                                <input type='date' defaultValue={show.date.toLocaleDateString('en-CA')} onChange={e => updateShowProp(show, 'date', new Date(e.target.value))} />\r\n                                {show.date.getDate()}&nbsp;\r\n                                {monthNames[show.date.getMonth()]}.&nbsp;\r\n                                {show.date.getFullYear()}\r\n                            </span>\r\n                            .\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </>)}\r\n        </ReactModal>\r\n    );\r\n}\r\n\r\nfunction WheelPage({ wheelName, setWheelName, showsQuery, historyQuery }) {\r\n    const [users, setUsers] = useState(() => [\r\n        { name: 'Tony'  , uuid: uuidv4() },\r\n        { name: 'Espen' , uuid: uuidv4() },\r\n        { name: 'Jørgen', uuid: uuidv4() },\r\n        { name: 'Sigurd', uuid: uuidv4() }\r\n    ]);\r\n    // const [shows,   setShows  ] = useState(() => parseShows(  localStorage.getItem(`${wheelName}-shows`  )));\r\n    // const [history, setHistory] = useState(() => parseHistory(localStorage.getItem(`${wheelName}-history`)));\r\n\r\n    const [shows] = useCollectionData(showsQuery);\r\n    const historyCD = useCollectionData(historyQuery);\r\n    const history = (historyCD[0] || []).map(h => ({ ...h, date: h.date.toDate ?\r\n        h.date.toDate() :\r\n        new Date(h.date)\r\n    }));\r\n\r\n    const setShows   = () => {};\r\n    const setHistory = () => {};\r\n\r\n    useEffect(() => {\r\n        setShows(  () => parseShows(  localStorage.getItem(`${wheelName}-shows`  )));\r\n        setHistory(() => parseHistory(localStorage.getItem(`${wheelName}-history`)));\r\n    }, [wheelName]);\r\n\r\n    const colors = [\r\n        '#caa05a',\r\n        '#ae6a47',\r\n        '#8b4049',\r\n        '#543344',\r\n        '#515262',\r\n        '#63787d',\r\n        '#8ea091',\r\n        '#8B9863'\r\n    ];\r\n\r\n    /*\r\n    const exportData = () => {\r\n        return window.alert('probly don\\'t work no more, pal');\r\n        const data = JSON.stringify({ users, shows, history });\r\n        const anchor = document.createElement('a');\r\n        anchor.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(data));\r\n        anchor.setAttribute('download', `${wheelName} Anime Roulette Data.json`);\r\n        anchor.innerText = `Click here to download data export of ${wheelName}`;\r\n        anchor.style.display = 'none';\r\n        document.body.appendChild(anchor);\r\n        anchor.click();\r\n        document.body.removeChild(anchor);\r\n    };\r\n    */\r\n\r\n    /*\r\n    const importData = () => {\r\n        const input = document.createElement('input');\r\n        input.setAttribute('type', 'file');\r\n        input.innerText = `Click here to upload data to ${wheelName}`;\r\n        input.style.display = 'none';\r\n        document.body.appendChild(input);\r\n        input.click();\r\n        input.addEventListener('change', e => {\r\n            const file = e.target.files[0];\r\n            document.body.removeChild(input);\r\n            if (!file) return;\r\n            file.text()\r\n                .then(text => {\r\n                    //localStorage.setItem(`${wheelName}-shows`, '[]');\r\n                    //localStorage.setItem(`${wheelName}-history`, '[]');\r\n\r\n                    const { users, shows, history } = JSON.parse(text);\r\n                    setUsers(() => users);\r\n                    setShows(() => shows);\r\n                    setHistory(() => history.map(show => ({ ...show, date: new Date(show.date) })));\r\n                })\r\n                .catch(console.log);\r\n        })\r\n    };\r\n    */\r\n\r\n    const removeShow = uuid => firestore.collection(`shows-${wheelName}`)\r\n        .doc(uuid).delete()\r\n        .then(() => console.log('Document successfully deleted!'))\r\n        .catch(err => console.error('Error removing document: ', err));\r\n\r\n    const addShow = show => firestore.collection(`shows-${wheelName}`)\r\n        .doc(show.uuid).set(show)\r\n        .then(() => console.log('Document successfully added!'))\r\n        .catch(err => console.error('Error adding document: ', err));\r\n\r\n    const updateShowProp = (uuid, prop, value) => firestore.collection(`shows-${wheelName}`)\r\n        .doc(uuid).update({ [prop]: value })\r\n        .then(() => console.log('Document successfully updated!'))\r\n        .catch(err => console.error('Error updating document: ', err));\r\n\r\n\r\n    const addHistory = show => firestore.collection(`history-${wheelName}`)\r\n        .doc(show.uuid).set(show)\r\n        .then(() => console.log('Document successfully added!'))\r\n        .catch(err => console.error('Error adding document: ', err));\r\n\r\n    const updateHistoryProp = (uuid, prop, value) => firestore.collection(`history-${wheelName}`)\r\n        .doc(uuid).update({ [prop]: value })\r\n        .then(() => console.log('Document successfully updated!'))\r\n        .catch(err => console.error('Error updating document: ', err));\r\n\r\n    return (\r\n        <main id='home' role='main'>\r\n            <Shows   className='left   shows'   users={users} shows={shows} addHistory={addHistory} colors={colors} removeShow={removeShow} updateShowProp={updateShowProp} addShow={addShow} setUsers={setUsers} />\r\n            <Wheel   className='center wheel'   users={users} shows={shows} addHistory={addHistory} colors={colors} removeShow={removeShow} updateShowProp={updateShowProp} wheelName={wheelName} />\r\n            <History className='right  history' users={users} shows={shows} history={history} updateHistoryProp={updateHistoryProp} />\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction SignIn() {\r\n    return (\r\n        <div className='sign-in-panel'>\r\n            <button className='sign-in' onClick={() => {\r\n                const provider = new firebase.auth.GoogleAuthProvider();\r\n                auth.signInWithRedirect(provider);\r\n            }}>\r\n                <img alt='Google Logo' className='google-logo' src={GoogleLogo} width={50} height={50} />\r\n                Sign in with Google\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SignOut({ className='', ...props }) {\r\n    return auth.currentUser && (\r\n        <button {...props}\r\n            className={'clickable-faded ' + className}\r\n            onClick={() => auth.signOut()}\r\n        >Sign out</button>\r\n    );\r\n}\r\n\r\nfunction PageRenderer() {\r\n    const [wheelName, setWheelName] = useState(() => localStorage.getItem('wheel-name') || 'Test Wheel');\r\n    const [user] = useAuthState(auth);\r\n\r\n    const wheelTitle = 'Anime Roulette' || 'Roulette';\r\n\r\n    const showsQuery = firestore.collection(`shows-${wheelName}`);\r\n    const historyQuery = firestore.collection(`history-${wheelName}`).orderBy('date');\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('wheel-name', wheelName);\r\n    }, [wheelName]);\r\n\r\n    return (\r\n        <div>\r\n            <header>\r\n                <div>\r\n                    {user && (\r\n                        <div className='wheel-name clickable-faded'>\r\n                            {wheelName}\r\n                            <select defaultValue={wheelName} onChange={e => setWheelName(() => e.target.value)}>\r\n                                <option>Anime Abuse</option>\r\n                                <option>Testing Wheel</option>\r\n                                <option>Animal Abuse</option>\r\n                                <option>Third one for show</option>\r\n                                <option>WHEEL OF IMPORT</option>\r\n                                <option>Test Wheel</option>\r\n                            </select>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <h1>{wheelTitle}</h1>\r\n                <div className=\"export-import\">\r\n                    <SignOut />\r\n                </div>\r\n            </header>\r\n            {user ?\r\n                <WheelPage\r\n                    wheelName={wheelName}\r\n                    showsQuery={showsQuery}\r\n                    historyQuery={historyQuery}\r\n                /> :\r\n                <SignIn />}\r\n        </div>\r\n    );\r\n}\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <PageRenderer />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// reportWebVitals(console.log) || https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}